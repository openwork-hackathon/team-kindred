# x402 ä»˜è²»è§£é–æ•´åˆè¨ˆåŠƒ

## ğŸ¯ ç•¶å‰ç‹€æ…‹

### âœ… å·²å®Œæˆ
- `/api/x402` - ä»˜è²»å”è­° API
- `/api/gourmet/insight` - é¤å»³ Premium Insight (x402 ä¿è­·)
- `UnlockButton` çµ„ä»¶ (USDC ä»˜æ¬¾)
- `PremiumInsight` çµ„ä»¶ (é¤å»³æ·±åº¦åˆ†æ)

### âŒ æœªæ•´åˆåˆ° Web3 é …ç›®
ç›®å‰ x402 åªåœ¨ **k/gourmet** (é¤å»³é¡åˆ¥) ä½¿ç”¨ï¼Œå…¶ä»– Web3 é …ç›®é é¢æ²’æœ‰ä»˜è²»è§£é–åŠŸèƒ½ã€‚

---

## ğŸ’¡ å»ºè­°æ•´åˆä½ç½®

### 1. **é …ç›®æ·±åº¦åˆ†æå ±å‘Š** (å„ªå…ˆ)
**ä½ç½®:** `/k/defi/[id]`, `/k/perp-dex/[id]` ç­‰é …ç›®é é¢

**åŠŸèƒ½:**
- è§£é– Ma'at AI æ·±åº¦åˆ†æ
- åŒ…å«ï¼šå®‰å…¨è©•åˆ†ã€åˆç´„å¯©è¨ˆã€éˆä¸Šæ•¸æ“šã€é¢¨éšªè©•ä¼°
- åƒ¹æ ¼: $0.50 USDC

**UI ä½ç½®:**
```
/k/defi/uniswap
â”œâ”€ Hero Section
â”œâ”€ Basic Info (å…è²»)
â”œâ”€ ğŸ”’ Premium Analysis (x402) â† æ–°å¢é€™å€‹
â”‚   â”œâ”€ Unlock for $0.50 USDC
â”‚   â””â”€ è§£é–å¾Œé¡¯ç¤ºå®Œæ•´åˆ†æ
â”œâ”€ Reviews
â””â”€ Community
```

**å¯¦ä½œ:**
- è¤‡è£½ `PremiumInsight.tsx` â†’ `ProjectPremiumAnalysis.tsx`
- æ•´åˆåˆ° `/k/[category]/[id]/page.tsx`
- API: `/api/projects/insight` (é¡ä¼¼ `/api/gourmet/insight`)

---

### 2. **å®Œæ•´è©•è«–è§£é–**
**ä½ç½®:** Review cards (æ‰€æœ‰é¡åˆ¥)

**åŠŸèƒ½:**
- è©•è«–é è¦½ (å‰ 150 å­—å…è²»)
- å®Œæ•´å…§å®¹ + ç…§ç‰‡éœ€ä»˜è²»
- åƒ¹æ ¼: $0.10 USDC (åŸºæ–¼ stake amount)

**UI:**
```
Review Card
â”œâ”€ è©•è«–é è¦½ (150 å­—)
â”œâ”€ ğŸ”’ Read Full Review ($0.10) â† é»æ“Šè§£é–
â””â”€ è§£é–å¾Œé¡¯ç¤ºå®Œæ•´å…§å®¹ + ç…§ç‰‡
```

---

### 3. **Leaderboard æ’è¡Œæ¦œæ•¸æ“š**
**ä½ç½®:** `/leaderboard`

**åŠŸèƒ½:**
- å…è²»ï¼šTop 10 æ’å
- ä»˜è²»ï¼šå®Œæ•´æ’å + æ­·å²è¶¨å‹¢ + é æ¸¬æ•¸æ“š
- åƒ¹æ ¼: $1.00 USDC/æœˆ (è¨‚é–±åˆ¶)

---

## ğŸ—ï¸ Uniswap v4 Hook Swap é é¢

### å»ºè­°ä½ç½®
**URL:** `/swap` (æ–°é é¢)

**Sidebar çµæ§‹:**
```
Sidebar
â”œâ”€ Home
â”œâ”€ Markets
â”œâ”€ Reviews
â”œâ”€ Swap ğŸ”„ â† æ–°å¢
â”œâ”€ Stake
â””â”€ Write
```

### åŠŸèƒ½è¨­è¨ˆ

**Swap é é¢åŒ…å«:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ KindredSwap - Reputation-Based Feesâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Your Reputation: ğŸ’ High (0.15% fee)â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ From: [ETH] [Amount]               â”‚
â”‚ â†“                                  â”‚
â”‚ To:   [USDC] [Estimated]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Fee: 0.15% (Normal: 0.30%)         â”‚
â”‚ You save: $X.XX                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Swap] button                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒç‰¹è‰²:**
1. **å‹•æ…‹æ‰‹çºŒè²»** â€” æ ¹æ“šç”¨æˆ¶ reputation score
   - ä½ä¿¡ç”¨: 0.30%
   - ä¸­ç­‰: 0.20%
   - é«˜ä¿¡ç”¨: 0.15%

2. **Uniswap v4 Hook** â€” KindredHook æ•´åˆ
   - è®€å–ç”¨æˆ¶ reputation å¾éˆä¸Š
   - è‡ªå‹•å¥—ç”¨æŠ˜æ‰£

3. **å¯¦æ™‚é¡¯ç¤ºç¯€çœé‡‘é¡**

### æŠ€è¡“æ¶æ§‹

**å‰ç«¯:**
```typescript
// src/app/swap/page.tsx
- SwapInterface çµ„ä»¶
- æ•´åˆ Uniswap v4 SDK
- è®€å– KindredHook åˆç´„
- é¡¯ç¤ºå‹•æ…‹è²»ç‡

// src/components/swap/SwapCard.tsx
- Token é¸æ“‡
- Amount è¼¸å…¥
- Fee è¨ˆç®—èˆ‡é¡¯ç¤º
- Reputation badge
```

**åˆç´„:**
```solidity
// contracts/src/KindredHook.sol (å·²å­˜åœ¨)
- beforeSwap() â†’ è®€å– reputation
- å‹•æ…‹èª¿æ•´ fee
- è¿”å›æŠ˜æ‰£å¾Œçš„è²»ç‡
```

**API:**
```typescript
// src/app/api/swap/quote/route.ts
- ç²å– swap quote
- è¨ˆç®—è²»ç”¨ (å« reputation æŠ˜æ‰£)
- è¿”å›é ä¼°è¼¸å‡º
```

---

## ğŸš€ å¯¦ä½œå„ªå…ˆé †åº

### Phase 1 (æœ¬é€± - Hackathon)
1. âœ… ä¿®å¾© `wallet.sendTransaction` éŒ¯èª¤
2. â¬œ æ·»åŠ  Swap é é¢åˆ° Sidebar
3. â¬œ å¯¦ä½œåŸºæœ¬ Swap UI (ä¸é€£ Hookï¼Œå…ˆç”¨ mock)
4. â¬œ é …ç›®é é¢åŠ  Premium Analysis unlock button

### Phase 2 (Hackathon å¾Œ)
1. â¬œ KindredHook éƒ¨ç½²åˆ° Base Sepolia
2. â¬œ Swap é é¢æ•´åˆçœŸå¯¦ Hook
3. â¬œ å®Œæ•´è©•è«–è§£é–åŠŸèƒ½
4. â¬œ Leaderboard ä»˜è²»è¨‚é–±

---

## ğŸ’° æ”¶å…¥é ä¼°

**å‡è¨­ 1000 active users:**

| åŠŸèƒ½ | åƒ¹æ ¼ | è½‰æ›ç‡ | æœˆæ”¶å…¥ |
|------|------|--------|--------|
| Premium Project Analysis | $0.50 | 10% | $50 |
| Full Review Unlock | $0.10 | 20% | $200 |
| Leaderboard Subscription | $1/æœˆ | 5% | $50 |
| **Total** | | | **$300/æœˆ** |

**With Swap fees (100 swaps/day):**
- 0.05% protocol fee Ã— $10k daily volume = **$150/æœˆ**

**Total ARR:** ~$5,400 (ä¿å®ˆä¼°è¨ˆ)

---

## ğŸ“ ä¸‹ä¸€æ­¥è¡Œå‹•

**ç«‹å³åŸ·è¡Œ (Patrick):**
1. âœ… ä¿®å¾© `wallet.sendTransaction` â†’ æ”¹ç”¨ viem wallet client
2. â¬œ Commit + Push

**Jensen å”èª¿:**
1. æ±ºå®š Swap é é¢å„ªå…ˆç´š
2. åˆ†é…çµ¦ Steve (UI) + Patrick (åˆç´„æ•´åˆ)

**Steve å¯ä»¥åš:**
1. å‰µå»º `/swap` é é¢ UI
2. Sidebar åŠ  Swap é€£çµ
3. Mock swap interface (å…ˆä¸é€£çœŸå¯¦åˆç´„)

---

## ğŸ¯ Demo æµç¨‹ (Hackathon)

**Scenario 1: é¤å»³åˆ†æ (å·²å®Œæˆ)**
1. æœå°‹ "Din Tai Fung"
2. æŸ¥çœ‹åŸºæœ¬è³‡è¨Š
3. é»æ“Š "Unlock Premium Insight"
4. æ”¯ä»˜ $0.10 USDC
5. æŸ¥çœ‹æ·±åº¦åˆ†æ âœ…

**Scenario 2: Swap with Reputation (å¾…å¯¦ä½œ)**
1. å‰å¾€ /swap
2. é€£æ¥éŒ¢åŒ… â†’ é¡¯ç¤º reputation score
3. è¼¸å…¥ swap amount
4. çœ‹åˆ°æŠ˜æ‰£è²»ç‡ (0.15% vs 0.30%)
5. åŸ·è¡Œ swap âœ…

---

è¦æˆ‘é–‹å§‹å¯¦ä½œå“ªå€‹ï¼Ÿå»ºè­°å…ˆåš Swap é é¢ UI (mock)ï¼Œç­‰ Hook éƒ¨ç½²å¾Œå†æ•´åˆçœŸå¯¦åˆç´„ã€‚
